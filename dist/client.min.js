!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(b.airbrakeJs||(b.airbrakeJs={})).Client=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(b,c,d){!function(e,f){"use strict";"function"==typeof a&&a.amd?a("error-stack-parser",["stackframe"],f):"object"==typeof d?c.exports=f(b("stackframe")):e.ErrorStackParser=f(e.StackFrame)}(this,function(a){"use strict";var b=/(^|@)\S+\:\d+/,c=/^\s*at .*(\S+\:\d+|\(native\))/m,d=/^(eval@)?(\[native code\])?$/;return{parse:function(a){if("undefined"!=typeof a.stacktrace||"undefined"!=typeof a["opera#sourceloc"])return this.parseOpera(a);if(a.stack&&a.stack.match(c))return this.parseV8OrIE(a);if(a.stack)return this.parseFFOrSafari(a);throw new Error("Cannot parse given Error object")},extractLocation:function(a){if(-1===a.indexOf(":"))return[a];var b=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,c=b.exec(a.replace(/[\(\)]/g,""));return[c[1],c[2]||void 0,c[3]||void 0]},parseV8OrIE:function(b){var d=b.stack.split("\n").filter(function(a){return!!a.match(c)},this);return d.map(function(b){b.indexOf("(eval ")>-1&&(b=b.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var c=b.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),d=this.extractLocation(c.pop()),e=c.join(" ")||void 0,f=["eval","<anonymous>"].indexOf(d[0])>-1?void 0:d[0];return new a({functionName:e,fileName:f,lineNumber:d[1],columnNumber:d[2],source:b})},this)},parseFFOrSafari:function(b){var c=b.stack.split("\n").filter(function(a){return!a.match(d)},this);return c.map(function(b){if(b.indexOf(" > eval")>-1&&(b=b.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===b.indexOf("@")&&-1===b.indexOf(":"))return new a({functionName:b});var c=b.split("@"),d=this.extractLocation(c.pop()),e=c.join("@")||void 0;return new a({functionName:e,fileName:d[0],lineNumber:d[1],columnNumber:d[2],source:b})},this)},parseOpera:function(a){return!a.stacktrace||a.message.indexOf("\n")>-1&&a.message.split("\n").length>a.stacktrace.split("\n").length?this.parseOpera9(a):a.stack?this.parseOpera11(a):this.parseOpera10(a)},parseOpera9:function(b){for(var c=/Line (\d+).*script (?:in )?(\S+)/i,d=b.message.split("\n"),e=[],f=2,g=d.length;g>f;f+=2){var h=c.exec(d[f]);h&&e.push(new a({fileName:h[2],lineNumber:h[1],source:d[f]}))}return e},parseOpera10:function(b){for(var c=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,d=b.stacktrace.split("\n"),e=[],f=0,g=d.length;g>f;f+=2){var h=c.exec(d[f]);h&&e.push(new a({functionName:h[3]||void 0,fileName:h[2],lineNumber:h[1],source:d[f]}))}return e},parseOpera11:function(c){var d=c.stack.split("\n").filter(function(a){return!!a.match(b)&&!a.match(/^Error created at/)},this);return d.map(function(b){var c,d=b.split("@"),e=this.extractLocation(d.pop()),f=d.shift()||"",g=f.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;f.match(/\(([^\)]*)\)/)&&(c=f.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var h=void 0===c||"[arguments not available]"===c?void 0:c.split(",");return new a({functionName:g,args:h,fileName:e[0],lineNumber:e[1],columnNumber:e[2],source:b})},this)}}})},{stackframe:2}],2:[function(b,c,d){!function(b,e){"use strict";"function"==typeof a&&a.amd?a("stackframe",[],e):"object"==typeof d?c.exports=e():b.StackFrame=e()}(this,function(){"use strict";function a(a){return!isNaN(parseFloat(a))&&isFinite(a)}function b(a){return a[0].toUpperCase()+a.substring(1)}function c(a){return function(){return this[a]}}function d(a){if(a instanceof Object)for(var c=e.concat(f.concat(g.concat(h))),d=0;d<c.length;d++)a.hasOwnProperty(c[d])&&void 0!==a[c[d]]&&this["set"+b(c[d])](a[c[d]])}var e=["isConstructor","isEval","isNative","isToplevel"],f=["columnNumber","lineNumber"],g=["fileName","functionName","source"],h=["args"];d.prototype={getArgs:function(){return this.args},setArgs:function(a){if("[object Array]"!==Object.prototype.toString.call(a))throw new TypeError("Args must be an Array");this.args=a},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(a){if(a instanceof d)this.evalOrigin=a;else{if(!(a instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new d(a)}},toString:function(){var b=this.getFunctionName()||"{anonymous}",c="("+(this.getArgs()||[]).join(",")+")",d=this.getFileName()?"@"+this.getFileName():"",e=a(this.getLineNumber())?":"+this.getLineNumber():"",f=a(this.getColumnNumber())?":"+this.getColumnNumber():"";return b+c+d+e+f}};for(var i=0;i<e.length;i++)d.prototype["get"+b(e[i])]=c(e[i]),d.prototype["set"+b(e[i])]=function(a){return function(b){this[a]=Boolean(b)}}(e[i]);for(var j=0;j<f.length;j++)d.prototype["get"+b(f[j])]=c(f[j]),d.prototype["set"+b(f[j])]=function(b){return function(c){if(!a(c))throw new TypeError(b+" must be a Number");this[b]=Number(c)}}(f[j]);for(var k=0;k<g.length;k++)d.prototype["get"+b(g[k])]=c(g[k]),d.prototype["set"+b(g[k])]=function(a){return function(b){this[a]=String(b)}}(g[k]);return d})},{}],3:[function(a,b,c){(function(c){var d,e,f,g;a("./internal/compat"),g=a("./internal/merge"),e=a("./internal/promise"),f=function(a){return function(b,c,d,e,f){return f?a.notify(f):a.notify({error:{message:b,fileName:c,lineNumber:d,columnNumber:e||0}})}},d=function(){function b(b){var d;null==b&&(b={}),this._projectId=b.projectId||0,this._projectKey=b.projectKey||"",this._host=b.host||"https://api.airbrake.io",this._processor=null,this._reporters=[],this._filters=[],void 0!==b.processor?this._processor=b.processor:this._processor=a("./processors/stacktracejs"),void 0!==b.reporter?this.addReporter(b.reporter):(d="withCredentials"in new c.XMLHttpRequest?"compat":"jsonp",this.addReporter(d)),this.addFilter(a("./filter/script_error")),this.addFilter(a("./filter/uncaught_message")),this.addFilter(a("./filter/angular_message")),this.onerror=f(this),null==c.onerror&&b.onerror!==!1&&(c.onerror=this.onerror)}return b.prototype.setProject=function(a,b){return this._projectId=a,this._projectKey=b},b.prototype.setHost=function(a){return this._host=a},b.prototype.addReporter=function(b){switch(b){case"compat":b=a("./reporters/compat");break;case"xhr":b=a("./reporters/xhr");break;case"jsonp":b=a("./reporters/jsonp")}return this._reporters.push(b)},b.prototype.addFilter=function(a){return this._filters.push(a)},b.prototype.notify=function(a){var b,d,f;return b={language:"JavaScript",sourceMapEnabled:!0},(null!=(f=c.navigator)?f.userAgent:void 0)&&(b.userAgent=c.navigator.userAgent),c.location&&(b.url=String(c.location),b.rootDirectory=c.location.protocol+"//"+c.location.host),d=new e,this._processor(a.error||a,function(c){return function(e,f){var h,i,j,k,l,m,n,o,p,q;for(m={errors:[f],context:g(b,a.context),params:a.params||{},environment:a.environment||{},session:a.session||{}},m.context.notifier={name:"airbrake-js",version:"0.6.0-alpha",url:"https://github.com/airbrake/airbrake-js"},o=c._filters,i=0,k=o.length;k>i;i++)if(h=o[i],m=h(m),null===m||m===!1)return;for(n={projectId:c._projectId,projectKey:c._projectKey,host:c._host},p=c._reporters,j=0,l=p.length;l>j;j++)(q=p[j])(m,n,d)}}(this)),d},b.prototype._wrapArguments=function(a){var b,c,d,e;for(c=d=0,e=a.length;e>d;c=++d)b=a[c],"function"==typeof b&&(a[c]=this.wrap(b));return a},b.prototype.wrap=function(a){var b,c,d;if(a.__airbrake__)return a;d=this,b=function(){var b,c,e;b=d._wrapArguments(arguments);try{return a.apply(this,b)}catch(c){e=c,b=Array.prototype.slice.call(arguments),d.notify({error:e,params:{arguments:b}})}};for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b.__airbrake__=!0,b.__inner__=a,b},b}(),b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./filter/angular_message":4,"./filter/script_error":5,"./filter/uncaught_message":6,"./internal/compat":7,"./internal/merge":9,"./internal/promise":10,"./processors/stacktracejs":12,"./reporters/compat":13,"./reporters/jsonp":14,"./reporters/xhr":15}],4:[function(a,b,c){var d,e;e=/^\[(\$.+)\]\s(.+)$/,d=function(a){var b,c;return b=a.errors[0],null!=b.type&&""!==b.type&&"Error"!==b.type?a:null==b.message?a:(c=b.message.match(e),c&&(b.type=c[1],b.message=c[2]),a)},b.exports=d},{}],5:[function(a,b,c){var d,e,f=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};d=["Script error","Script error."],e=function(a){var b;return b=a.errors[0].message,f.call(d,b)>=0?null:a},b.exports=e},{}],6:[function(a,b,c){var d,e;e=/^Uncaught\s(.+?):\s(.+)$/,d=function(a){var b,c;return b=a.errors[0],null!=b.type&&""!==b.type&&"Error"!==b.type?a:null==b.message?a:(c=b.message.match(e),c&&(b.type=c[1],b.message=c[2]),a)},b.exports=d},{}],7:[function(a,b,c){var d;null==(d=Array.prototype).indexOf&&(d.indexOf=function(a,b){var c,d,e,f;for(b=b||0,c=d=e=b,f=this.length;f>=e?f>d:d>f;c=f>=e?++d:--d)if(this[c]===a)return c;return-1})},{}],8:[function(a,b,c){var d,e,f;e=a("./truncate"),f=function(a,b){var c,d;null==b&&(b=1e3),c={};for(d in a)c[d]=e(a[d],b=b);return c},d=function(a,b,c){var d,e;for(null==b&&(b=1e3),null==c&&(c=64e3);;){if(a.params=f(a.params,b=b),a.environment=f(a.environment,b=b),a.session=f(a.session,b=b),e=JSON.stringify(a),e.length<c)return e;if(0===b)break;b=Math.floor(b/2)}throw d=new Error("airbrake-js: cannot jsonify notice (length="+e.length+" maxLength="+c+")"),d.params={json:e.slice(0,+Math.floor(b/2)+1||9e9)+"..."},d},b.exports=d},{"./truncate":11}],9:[function(a,b,c){var d;d=function(){var a,b,c,d,e,f;for(f=Array.prototype.slice.call(arguments),a=f.shift()||{},b=0,d=f.length;d>b;b++){e=f[b];for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}return a},b.exports=d},{}],10:[function(a,b,c){var d;d=function(){function a(a){var b,c;this._onResolved=[],this._onRejected=[],c=function(a){return function(){return a.resolve.apply(a,arguments)}}(this),b=function(a){return function(){return a.reject.apply(a,arguments)}}(this),null!=a&&a(c,b)}return a.prototype.then=function(a,b){return a&&(null!=this._resolvedWith&&a(this._resolvedWith),this._onResolved.push(a)),b&&(null!=this._rejectedWith&&b(this._resolvedWith),this._onRejected.push(b)),this},a.prototype["catch"]=function(a){return null!=this._rejectedWith&&a(this._rejectedWith),this._onRejected.push(a),this},a.prototype.resolve=function(){var a,b,c,d;for(this._resolvedWith=arguments,d=this._onResolved,b=0,c=d.length;c>b;b++)a=d[b],a.apply(this,this._resolvedWith);return this},a.prototype.reject=function(){var a,b,c,d;for(this._rejectedWith=arguments,d=this._onRejected,b=0,c=d.length;c>b;b++)a=d[b],a.apply(this,this._rejectedWith);return this},a}(),b.exports=d},{}],11:[function(a,b,c){var d,e;d=function(a,b){var c,d;try{return a[b]}catch(c){return void(d=c)}},e=function(a,b,c){var e,f,g,h,i;return null==b&&(b=1e3),null==c&&(c=5),h=0,g=[],i=[],f=function(a){var b,c,e,f,h;for(c=i.indexOf(a),f=[g[c]],b=e=h=c;0>=h?0>=e:e>=0;b=0>=h?++e:--e)i[b]&&d(i[b],f[0])===a&&(a=i[b],f.unshift(g[b]));return"~"+f.join(".")},(e=function(a,j,k){var l,m,n,o,p,q;if(null==j&&(j=""),null==k&&(k=0),h++,h>b)return"[Truncated]";if(null===a||void 0===a)return a;switch(typeof a){case"boolean":case"number":case"string":case"function":return a;case"object":break;default:return String(a)}if(a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp)return a;if(i.indexOf(a)>=0)return"[Circular "+f(a)+"]";if(k++,k>c)return"[Truncated]";if(g.push(j),i.push(a),h--,"[object Array]"===Object.prototype.toString.apply(a)){for(l=[],n=o=0,p=a.length;p>o&&(m=a[n],h++,!(h>=b));n=++o)l.push(e(m,j=n,k));return l}l={};for(j in a)if(Object.prototype.hasOwnProperty.call(a,j)){if(h++,h>=b)break;q=d(a,j),void 0!==q&&(l[j]=e(q,j=j,k))}return l})(a)},b.exports=e},{}],12:[function(a,b,c){var d,e;d=a("error-stack-parser"),e=function(a,b){var c,e,f,g,h,i,j;for(f=d.parse(a),c=[],g=0,h=f.length;h>g;g++)e=f[g],c.push({"function":e.functionName,file:e.fileName,line:e.lineNumber,column:e.columnNumber});return i=null!=a.message?String(a.message):String(a),j=null!=a.name&&""!==a.name?a.name:"",""===j&&""===i&&0===c.length?void("undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("airbrake: can't process error",a)):b("stacktracejs",{type:j,message:i,backtrace:c})},b.exports=e},{"error-stack-parser":1}],13:[function(a,b,c){(function(c){var d,e;d=a("../internal/jsonify_notice"),e=function(a,b,e){var f,g,h;return h=b.host+"/api/v3/projects/"+b.projectId+"/create-notice?key="+b.projectKey,f=d(a),g=new c.XMLHttpRequest,g.open("POST",h,!0),g.send(f),g.onreadystatechange=function(){var b;return 4===g.readyState&&200===g.status?(b=JSON.parse(g.responseText),a.id=b.id,e.resolve(a)):void 0}},b.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../internal/jsonify_notice":8}],14:[function(a,b,c){(function(c){var d,e,f;e=a("../internal/jsonify_notice"),d=0,f=function(a,b,f){var g,h,i,j,k,l,m;return d++,g="airbrakeCb"+String(d),c[g]=function(b){var d,e;a.id=b.id,f.resolve(a);try{return delete c[g]}catch(e){return d=e,c[g]=void 0}},j=encodeURIComponent(e(a)),m=b.host+"/api/v3/projects/"+b.projectId+"/create-notice?key="+b.projectKey+"&callback="+g+"&body="+j,h=c.document,i=h.getElementsByTagName("head")[0],l=h.createElement("script"),l.src=m,k=function(){return i.removeChild(l)},l.onload=k,l.onerror=k,i.appendChild(l)},b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../internal/jsonify_notice":8}],15:[function(a,b,c){(function(c){var d,e;d=a("../internal/jsonify_notice"),e=function(a,b,e){var f,g,h;return h=b.host+"/api/v3/projects/"+b.projectId+"/notices?key="+b.projectKey,f=d(a),g=new c.XMLHttpRequest,g.open("POST",h,!0),g.setRequestHeader("Content-Type","application/json"),g.send(f),g.onreadystatechange=function(){var b;return 4===g.readyState&&201===g.status?(b=JSON.parse(g.responseText),a.id=b.id,e.resolve(a)):void 0}},b.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../internal/jsonify_notice":8}]},{},[3])(3)});
//# sourceMappingURL=client.min.js.map